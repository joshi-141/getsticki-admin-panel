{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { Observable } from \"./Observable.js\";\nimport { iterateObserversSafely } from \"./iteration.js\";\nimport { fixObservableSubclass } from \"./subclassing.js\";\n\nfunction isPromiseLike(value) {\n  return value && typeof value.then === \"function\";\n}\n\nvar Concast = function (_super) {\n  __extends(Concast, _super);\n\n  function Concast(sources) {\n    var _this = _super.call(this, function (observer) {\n      _this.addObserver(observer);\n\n      return function () {\n        return _this.removeObserver(observer);\n      };\n    }) || this;\n\n    _this.observers = new Set();\n    _this.addCount = 0;\n    _this.promise = new Promise(function (resolve, reject) {\n      _this.resolve = resolve;\n      _this.reject = reject;\n    });\n    _this.handlers = {\n      next: function (result) {\n        if (_this.sub !== null) {\n          _this.latest = [\"next\", result];\n          iterateObserversSafely(_this.observers, \"next\", result);\n        }\n      },\n      error: function (error) {\n        var sub = _this.sub;\n\n        if (sub !== null) {\n          if (sub) setTimeout(function () {\n            return sub.unsubscribe();\n          });\n          _this.sub = null;\n          _this.latest = [\"error\", error];\n\n          _this.reject(error);\n\n          iterateObserversSafely(_this.observers, \"error\", error);\n        }\n      },\n      complete: function () {\n        var sub = _this.sub;\n\n        if (sub !== null) {\n          var value = _this.sources.shift();\n\n          if (!value) {\n            if (sub) setTimeout(function () {\n              return sub.unsubscribe();\n            });\n            _this.sub = null;\n\n            if (_this.latest && _this.latest[0] === \"next\") {\n              _this.resolve(_this.latest[1]);\n            } else {\n              _this.resolve();\n            }\n\n            iterateObserversSafely(_this.observers, \"complete\");\n          } else if (isPromiseLike(value)) {\n            value.then(function (obs) {\n              return _this.sub = obs.subscribe(_this.handlers);\n            });\n          } else {\n            _this.sub = value.subscribe(_this.handlers);\n          }\n        }\n      }\n    };\n\n    _this.cancel = function (reason) {\n      _this.reject(reason);\n\n      _this.sources = [];\n\n      _this.handlers.complete();\n    };\n\n    _this.promise.catch(function (_) {});\n\n    if (typeof sources === \"function\") {\n      sources = [new Observable(sources)];\n    }\n\n    if (isPromiseLike(sources)) {\n      sources.then(function (iterable) {\n        return _this.start(iterable);\n      }, _this.handlers.error);\n    } else {\n      _this.start(sources);\n    }\n\n    return _this;\n  }\n\n  Concast.prototype.start = function (sources) {\n    if (this.sub !== void 0) return;\n    this.sources = Array.from(sources);\n    this.handlers.complete();\n  };\n\n  Concast.prototype.deliverLastMessage = function (observer) {\n    if (this.latest) {\n      var nextOrError = this.latest[0];\n      var method = observer[nextOrError];\n\n      if (method) {\n        method.call(observer, this.latest[1]);\n      }\n\n      if (this.sub === null && nextOrError === \"next\" && observer.complete) {\n        observer.complete();\n      }\n    }\n  };\n\n  Concast.prototype.addObserver = function (observer) {\n    if (!this.observers.has(observer)) {\n      this.deliverLastMessage(observer);\n      this.observers.add(observer);\n      ++this.addCount;\n    }\n  };\n\n  Concast.prototype.removeObserver = function (observer, quietly) {\n    if (this.observers.delete(observer) && --this.addCount < 1 && !quietly) {\n      this.handlers.complete();\n    }\n  };\n\n  Concast.prototype.cleanup = function (callback) {\n    var _this = this;\n\n    var called = false;\n\n    var once = function () {\n      if (!called) {\n        called = true;\n\n        _this.observers.delete(observer);\n\n        callback();\n      }\n    };\n\n    var observer = {\n      next: once,\n      error: once,\n      complete: once\n    };\n    var count = this.addCount;\n    this.addObserver(observer);\n    this.addCount = count;\n  };\n\n  return Concast;\n}(Observable);\n\nexport { Concast };\nfixObservableSubclass(Concast);","map":{"version":3,"names":["__extends","Observable","iterateObserversSafely","fixObservableSubclass","isPromiseLike","value","then","Concast","_super","sources","_this","call","observer","addObserver","removeObserver","observers","Set","addCount","promise","Promise","resolve","reject","handlers","next","result","sub","latest","error","setTimeout","unsubscribe","complete","shift","obs","subscribe","cancel","reason","catch","_","iterable","start","prototype","Array","from","deliverLastMessage","nextOrError","method","has","add","quietly","delete","cleanup","callback","called","once","count"],"sources":["/Users/phoungeunvantho/B.COM/bmonitor.com/bmonitor/node_modules/@apollo/client/utilities/observables/Concast.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport { Observable } from \"./Observable.js\";\nimport { iterateObserversSafely } from \"./iteration.js\";\nimport { fixObservableSubclass } from \"./subclassing.js\";\nfunction isPromiseLike(value) {\n    return value && typeof value.then === \"function\";\n}\nvar Concast = (function (_super) {\n    __extends(Concast, _super);\n    function Concast(sources) {\n        var _this = _super.call(this, function (observer) {\n            _this.addObserver(observer);\n            return function () { return _this.removeObserver(observer); };\n        }) || this;\n        _this.observers = new Set();\n        _this.addCount = 0;\n        _this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        _this.handlers = {\n            next: function (result) {\n                if (_this.sub !== null) {\n                    _this.latest = [\"next\", result];\n                    iterateObserversSafely(_this.observers, \"next\", result);\n                }\n            },\n            error: function (error) {\n                var sub = _this.sub;\n                if (sub !== null) {\n                    if (sub)\n                        setTimeout(function () { return sub.unsubscribe(); });\n                    _this.sub = null;\n                    _this.latest = [\"error\", error];\n                    _this.reject(error);\n                    iterateObserversSafely(_this.observers, \"error\", error);\n                }\n            },\n            complete: function () {\n                var sub = _this.sub;\n                if (sub !== null) {\n                    var value = _this.sources.shift();\n                    if (!value) {\n                        if (sub)\n                            setTimeout(function () { return sub.unsubscribe(); });\n                        _this.sub = null;\n                        if (_this.latest &&\n                            _this.latest[0] === \"next\") {\n                            _this.resolve(_this.latest[1]);\n                        }\n                        else {\n                            _this.resolve();\n                        }\n                        iterateObserversSafely(_this.observers, \"complete\");\n                    }\n                    else if (isPromiseLike(value)) {\n                        value.then(function (obs) { return _this.sub = obs.subscribe(_this.handlers); });\n                    }\n                    else {\n                        _this.sub = value.subscribe(_this.handlers);\n                    }\n                }\n            },\n        };\n        _this.cancel = function (reason) {\n            _this.reject(reason);\n            _this.sources = [];\n            _this.handlers.complete();\n        };\n        _this.promise.catch(function (_) { });\n        if (typeof sources === \"function\") {\n            sources = [new Observable(sources)];\n        }\n        if (isPromiseLike(sources)) {\n            sources.then(function (iterable) { return _this.start(iterable); }, _this.handlers.error);\n        }\n        else {\n            _this.start(sources);\n        }\n        return _this;\n    }\n    Concast.prototype.start = function (sources) {\n        if (this.sub !== void 0)\n            return;\n        this.sources = Array.from(sources);\n        this.handlers.complete();\n    };\n    Concast.prototype.deliverLastMessage = function (observer) {\n        if (this.latest) {\n            var nextOrError = this.latest[0];\n            var method = observer[nextOrError];\n            if (method) {\n                method.call(observer, this.latest[1]);\n            }\n            if (this.sub === null &&\n                nextOrError === \"next\" &&\n                observer.complete) {\n                observer.complete();\n            }\n        }\n    };\n    Concast.prototype.addObserver = function (observer) {\n        if (!this.observers.has(observer)) {\n            this.deliverLastMessage(observer);\n            this.observers.add(observer);\n            ++this.addCount;\n        }\n    };\n    Concast.prototype.removeObserver = function (observer, quietly) {\n        if (this.observers.delete(observer) &&\n            --this.addCount < 1 &&\n            !quietly) {\n            this.handlers.complete();\n        }\n    };\n    Concast.prototype.cleanup = function (callback) {\n        var _this = this;\n        var called = false;\n        var once = function () {\n            if (!called) {\n                called = true;\n                _this.observers.delete(observer);\n                callback();\n            }\n        };\n        var observer = {\n            next: once,\n            error: once,\n            complete: once,\n        };\n        var count = this.addCount;\n        this.addObserver(observer);\n        this.addCount = count;\n    };\n    return Concast;\n}(Observable));\nexport { Concast };\nfixObservableSubclass(Concast);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}